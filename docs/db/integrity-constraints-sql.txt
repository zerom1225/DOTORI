2. 닉네임은 사용자 식별에 사용되므로 중복을 허용하지 않는다.
SQL : ALTER TABLE MEMBER ADD CONSTRAINT UK_MEMBER_NICKNAME UNIQUE (NICKNAME);

3. 회원 권한(role)은 정의된 값만 허용한다.
SQL : ALTER TABLE MEMBER ADD CONSTRAINT CK_MEMBER_ROLE CHECK (ROLE IN (0, 1));

4. 회원 탈퇴는 물리삭제가 아닌 상태 변경으로 관리한다.
SQL : ALTER TABLE MEMBER ADD STATUS NUMBER(1) DEFAULT 0 NOT NULL;
ALTER TABLE MEMBER ADD CONSTRAINT CK_MEMBER_STATUS CHECK (STATUS IN (0, 1));

6. 거래 방식(how_trade)은 정의된 값만 허용한다
SQL : ALTER TABLE PRODUCT_BOARD ADD CONSTRAINT CK_PRODUCT_BOARD_HOW_TRADE CHECK(HOW_TRADE IN (0, 1, 2));

7. 게시글 상태는 정의된 값만 허용하며 삭제는 상태로 관리한다
SQL : ALTER TABLE PRODUCT_BOARD ADD CONSTRAINT CK_PRODUCT_BOARD_BOARD_STATUS CHECK(BOARD_STATUS IN (0, 1, 2, 3));

11. 채팅 기록은 보존 대상이므로 회원 삭제로 참여자 정보가 NULL로 변하지 않도록 한다
SQL :
ALTER TABLE CHAT DROP CONSTRAINT FK_MEMBER_TO_CHAT;
ALTER TABLE CHAT
	ADD
		CONSTRAINT FK_MEMBER_TO_CHAT
		FOREIGN KEY (
			SELLER_ID
		)
		REFERENCES MEMBER (
			USER_ID
		);

ALTER TABLE CHAT DROP CONSTRAINT FK_MEMBER_TO_CHAT2;		
ALTER TABLE CHAT
	ADD
		CONSTRAINT FK_MEMBER_TO_CHAT2
		FOREIGN KEY (
			BUYER_ID
		)
		REFERENCES MEMBER (
			USER_ID
		);

12. 채팅 기록은 게시글 삭제로 함께 삭제되지 않는다.
SQL : 
ALTER TABLE CHAT DROP CONSTRAINT FK_PRODUCT_BOARD_TO_CHAT;
ALTER TABLE CHAT
	ADD
		CONSTRAINT FK_PRODUCT_BOARD_TO_CHAT
		FOREIGN KEY (
			BOARD_ID
		)
		REFERENCES PRODUCT_BOARD (
			BOARD_ID
		);
		
13. 채팅 활성 상태(is_active)는 정의된 값만 허용한다.
SQL : ALTER TABLE CHAT ADD CONSTRAINT CK_CHAT_IS_ACTIVE CHECK(IS_ACTIVE IN (0, 1));

14. 메시지는 채팅방에 종속되며 채팅방은 물리 삭제하지 않는다.
SQL : 
ALTER TABLE CHAT_MESSAGE DROP CONSTRAINT FK_CHAT_TO_CHAT_MESSAGE;

ALTER TABLE CHAT_MESSAGE
	ADD
		CONSTRAINT FK_CHAT_TO_CHAT_MESSAGE
		FOREIGN KEY (
			CHAT_ID
		)
		REFERENCES CHAT (
			CHAT_ID
		);



15. 메시지 발신자는 감사 목적상 NULL로 바꾸지 않는다.
SQL : 
ALTER TABLE CHAT_MESSAGE DROP CONSTRAINT FK_MEMBER_TO_CHAT_MESSAGE;

ALTER TABLE CHAT_MESSAGE
	ADD
		CONSTRAINT FK_MEMBER_TO_CHAT_MESSAGE
		FOREIGN KEY (
			SENDER_ID
		)
		REFERENCES MEMBER (
			USER_ID
		);
		
16. 신고 데이터는 게시글 삭제로 함께 삭제되지 않도록 한다.
SQL : 
ALTER TABLE BOARD_REPORT DROP CONSTRAINT FK_PRODUCT_BOARD_TO_BOARD_REPORT;

ALTER TABLE BOARD_REPORT
	ADD
		CONSTRAINT FK_PRODUCT_BOARD_TO_BOARD_REPORT
		FOREIGN KEY (
			BOARD_ID
		)
		REFERENCES PRODUCT_BOARD (
			BOARD_ID
		);

17. 신고 대상 유저는 NULL로 변경하지 않는다.
SQL:
ALTER TABLE BOARD_REPORT DROP CONSTRAINT FK_MEMBER_TO_BOARD_REPORT;

ALTER TABLE BOARD_REPORT
	ADD
		CONSTRAINT FK_MEMBER_TO_BOARD_REPORT
		FOREIGN KEY (
			REPORT_USER_ID
		)
		REFERENCES MEMBER (
			USER_ID
		);
		
18. 신고 카테고리는 정의된 값만 허용한다
SQL : ALTER TABLE BOARD_REPORT ADD CONSTRAINT CK_BOARD_REPORT_REPORT_CATEGORY CHECK (REPORT_CATEGORY IN (0, 1, 2, 3));
 


19. 신고 처리 상태는 정의된 값만 허용한다
SQL : ALTER TABLE BOARD_REPORT ADD CONSTRAINT CK_BOARD_REPORT_REPORT_STATUS CHECK (REPORT_STATUS IN (0, 1, 2, 3));